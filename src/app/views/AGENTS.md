# AGENTS.md — Views

<!-- generated by agents-md-generator | last_generated: 2026-02-12 -->

> ERB templates for HTML rendering, organized by controller.

## Structure

```
app/views/
├── dashboard/          # Dashboard pages
├── exams/              # Exam taking UI
├── home/               # Landing page
├── layouts/            # Application layouts
├── pre_exams/          # Exam creation pages
├── rooms/              # Room management pages
├── sessions/           # Login/logout forms
└── users/              # Registration forms
```

## Naming Conventions

| Element | Pattern | Example |
|---------|---------|---------|
| View directory | `{controller_name}/` | `exams/`, `rooms/` |
| Template file | `{action}.html.erb` | `index.html.erb`, `show.html.erb` |
| Partial file | `_{name}.html.erb` | `_form.html.erb`, `_question.html.erb` |
| Layout file | `{name}.html.erb` | `application.html.erb` |

## Rules

### Do

- Use Tailwind CSS classes for styling
- Use `<%= %>` for output, `<% %>` for logic
- Keep logic minimal — use helpers for complex formatting
- Use partials for repeated markup (`render partial:`)
- Use `form_with` for forms with CSRF protection
- Use `data-controller` and `data-action` for Stimulus bindings

### Don't

- Don't put business logic in views — use controllers or helpers
- Don't access models directly for complex queries — use controller instance variables
- Don't hardcode URLs — use route helpers (`exams_path`, `room_path(@room)`)
- Don't use inline styles — use Tailwind classes

## Patterns

### ✅ Good — Clean ERB with Tailwind

```erb
<div class="rounded-xl bg-white shadow-sm ring-1 ring-slate-200 p-6">
  <h1 class="text-xl font-semibold text-slate-900"><%= @exam_title %></h1>
  <%= render partial: "question", collection: @questions %>
</div>
```

### ✅ Good — Stimulus data attributes

```erb
<div data-controller="exam" data-exam-total-value="<%= @total %>">
  <button data-action="click->exam#next">Next</button>
</div>
```

### ❌ Bad — Complex logic in view

```erb
<% @questions.each do |q| %>
  <% if q.question_type == "multiple" && q.choices.count > 4 %>
    <% sorted = q.choices.sort_by { |c| c.created_at } %>
    <!-- Too much logic -->
  <% end %>
<% end %>
```

## Related Files

| File | Relationship |
|------|-------------|
| `AGENTS.md` (project root) | Global rules — read first |
| `app/controllers/AGENTS.md` | Controllers set instance variables for views |
| `app/helpers/AGENTS.md` | Helpers provide formatting methods |
| `app/frontend/AGENTS.md` | Stimulus controllers for JS behavior |

## Checklist — New View

Before creating a new view:

- [ ] File in correct controller directory (`views/{controller}/`)
- [ ] Named `{action}.html.erb` or `_{partial}.html.erb`
- [ ] Uses Tailwind classes (no inline styles)
- [ ] Uses route helpers for links
- [ ] Complex logic extracted to helpers
