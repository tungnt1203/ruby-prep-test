# AGENTS.md — Frontend

<!-- generated by agents-md-generator | last_generated: 2026-02-12 -->

> Stimulus JS controllers for frontend interactivity.

## Structure

```
app/frontend/
├── application.js                          # Main entry
├── entrypoints/
│   └── application.js                      # Vite entrypoint
└── controllers/
    ├── exam_controller.js                  # Exam question navigation
    ├── exam_result_controller.js           # Results display
    ├── exam_room_timer_controller.js       # Room countdown
    ├── hello_controller.js                 # Example controller
    └── room_countdown_controller.js        # Room start countdown
```

## Naming Conventions

| Element | Pattern | Example |
|---------|---------|---------|
| Controller file | `{name}_controller.js` | `exam_controller.js` |
| Controller identifier | `{name}` (from filename) | `data-controller="exam"` |
| Targets | `camelCase` | `static targets = ["questionPanel"]` |
| Values | `camelCase` | `static values = { total: Number }` |
| Actions | `camelCase` | `data-action="click->exam#goTo"` |

## Rules

### Do

- Export default class extending `Controller`
- Define `static targets` for DOM elements
- Define `static values` for configuration
- Use `connect()` for initialization
- Use `{value}Changed()` callbacks for reactive updates
- Keep controllers focused on single responsibility

### Don't

- Don't import other controllers — keep them independent
- Don't access global state — use targets and values
- Don't manipulate DOM outside controller scope
- Don't make direct API calls — use Turbo or form submissions

## Patterns

### ✅ Good — Stimulus controller with targets and values

```javascript
import { Controller } from "@hotwired/stimulus"

export default class extends Controller {
  static targets = ["questionPanel", "questionItem"]
  static values = { total: Number, current: Number }

  connect() {
    this.showQuestion(this.currentValue)
  }

  currentValueChanged() {
    this.updateVisibility()
  }

  next() {
    if (this.currentValue < this.totalValue - 1) this.currentValue++
  }
}
```

### ❌ Bad — Direct DOM manipulation outside scope

```javascript
export default class extends Controller {
  connect() {
    document.querySelector(".global-element").classList.add("active") // Don't do this
  }
}
```

## Related Files

| File | Relationship |
|------|-------------|
| `AGENTS.md` (project root) | Global rules — read first |
| `app/views/AGENTS.md` | Views use `data-controller` to connect |

## Checklist — New Stimulus Controller

Before creating a new controller:

- [ ] File named `{name}_controller.js` in `app/frontend/controllers/`
- [ ] Exports default class extending `Controller`
- [ ] `static targets` defined for required DOM elements
- [ ] `static values` defined for configuration
- [ ] Connected in view via `data-controller="{name}"`
